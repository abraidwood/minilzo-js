<!doctype html>
<html>
<head>
<title>minilzo-js node test page</title>
</head>

<body>

</body>

<script src="http://abraidwood.org/lzo1x.js" type="text/javascript">></script>

<script>

function makeReq()
{
	var req = new XMLHttpRequest()

	req.open('GET', 'http://localhost:1337/data', false);
	req.overrideMimeType('text\/plain; charset=x-user-defined');
	req.send(null);

	if(!req.status == 200) {}

	return req.responseText;
}

var response = makeReq(),
	i=0,lim=1000,
	ts=Date.now(),td,
	decomp = "";

for(i=0;i<lim;i++) {
	decomp = lzo1x.decompress(response);
}
td = (Date.now() - ts) / lim;

document.body.innerHTML = 'Decompressed to '+decomp.length+' bytes in '+td+'ms ('+((1000 * decomp.length) / (td * 1024 * 1024)).toFixed(2)+' MByte/s)' +
	"<br/><br/>" +
	decomp;

</script>
</html>